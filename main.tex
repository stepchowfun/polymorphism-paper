\documentclass[acmlarge]{acmart}

\usepackage{booktabs} % For formal tables
\usepackage{bussproofs}
\usepackage{mdframed}

\usepackage[ruled]{algorithm2e} % For algorithms
\renewcommand{\algorithmcfname}{ALGORITHM}
\SetAlFnt{\small}
\SetAlCapFnt{\small}
\SetAlCapNameFnt{\small}
\SetAlCapHSkip{0pt}
\IncMargin{-\parindent}

% Metadata Information
\acmJournal{PACMPL}
\acmVolume{22}
\acmNumber{4}
\acmArticle{39}
\acmYear{2017}
\acmMonth{3}
\acmArticleSeq{11}

%\acmBadgeR[http://ctuning.org/ae/ppopp2016.html]{ae-logo}
%\acmBadgeL[http://ctuning.org/ae/ppopp2016.html]{ae-logo}


% Copyright
\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}

% DOI
\acmDOI{0000001.0000001}

% Paper history
\received{February 2017}


% Document starts
\begin{document}
% Title portion
\title{Deconstructing Type Classes into Orthogonal Language Features}
\author{Stephan Boyer}
\orcid{1234-5678-9012-3456}
\affiliation{%
  \institution{Airbnb, Inc.}
  \streetaddress{888 Brannan St.}
  \city{San Francisco}
  \state{CA}
  \postcode{94134}
  \country{USA}
}
\author{Esther Wang}
\affiliation{%
  \institution{Airbnb, Inc.}
  \streetaddress{888 Brannan St.}
  \city{San Francisco}
  \state{CA}
  \postcode{94134}
  \country{USA}
}


\begin{abstract}
  Hello, World!
\end{abstract}


%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10003752.10010124.10010125.10010127</concept_id>
<concept_desc>Theory of computation~Functional constructs</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003752.10010124.10010125.10010130</concept_id>
<concept_desc>Theory of computation~Type structures</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003752.10010124.10010125.10010129</concept_id>
<concept_desc>Theory of computation~Program schemes</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10003752.10010124.10010131.10010134</concept_id>
<concept_desc>Theory of computation~Operational semantics</concept_desc>
<concept_significance>100</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Theory of computation~Functional constructs}
\ccsdesc[500]{Theory of computation~Type structures}
\ccsdesc[300]{Theory of computation~Program schemes}
\ccsdesc[100]{Theory of computation~Operational semantics}

%
% End generated code
%

% We no longer use \terms command
\terms{}

\keywords{Ad hoc polymorphism, Implicit parameters}


\thanks{
}


\maketitle



\section{Introduction}

\section{Implicit parameters}

  % misc
  \newcommand\entails[2]{#1 \vdash #2}
  \newcommand\hastype[2]{#1 : #2}
  \newcommand\upsert[3]{#1 \otimes \left( #2 \hookrightarrow #3 \right)}
  \newcommand\lookup[3]{\upsert{#1}{#2}{#3}}
  \newcommand\evalsto[2]{#1 \longrightarrow #2}

  % terms
  \newcommand\labs[2]{\lambda #1 \ . \ #2}
  \newcommand\dabs[2]{\delta #1 \ . \ #2}
  \newcommand\app[2]{#1 \ #2}
  \newcommand\sub[3]{#1 \left[ #2 \mapsto #3 \right]}
  \newcommand\provide[2]{\text{provide } #1 \text{ in } #2}

  % types
  \newcommand\larrow[2]{#1 \rightarrow #2}
  \newcommand\darrow[2]{#1 \rightarrow_{\delta} #2}
  \newcommand\tabs[2]{\forall #1 \ . \ #2}

  \begin{figure}[h!]
    \begin{mdframed}

      \begin{tabular}{l l l}
        $t \Coloneqq $ & & (term) \\
        & $c$ & (constant of type $P \in B$) \\
        & $x$ & (variable) \\
        & $\provide{t}{t}$ & (implicit parameter binding) \\
        & $\labs{\hastype{x}{T}}{t}$ & (lambda abstraction) \\
        & $\dabs{\hastype{x}{T}}{t}$ & (delta abstraction) \\
        & $\app{t}{t}$ & (lambda application) \\
        & $\labs{X}{t}$ & (type abstraction) \\
        & $\app{t}{T}$ & (type application) \\
      \end{tabular}

    \end{mdframed}
    \caption{Syntax of terms}
    \label{fig:terms_syntax}
  \end{figure}

  \begin{figure}[h!]
    \begin{mdframed}

      \begin{tabular}{l l l l}
        $T \Coloneqq $ & & & (type) \\
        & $P$ & where $P \in B$ & (base type) \\
        & $\larrow{T}{T}$ & & (lambda type) \\
        & $\darrow{T}{T}$ & & (delta type) \\
        & $X$ & & (type variable) \\
        & $\tabs{X}{T}$ & & (universal type) \\
      \end{tabular}

    \end{mdframed}
    \caption{Syntax of types}
    \label{fig:types_syntax}
  \end{figure}

  \begin{figure}[h!]
    \begin{mdframed}

      \begin{prooftree}
          \AxiomC{$c$ is a constant of type $P$}
        \RightLabel{(\textsc{T-Const})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{c}{P}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\hastype{x}{T} \in \Gamma$}
        \RightLabel{(\textsc{T-Var})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{x}{T}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma, \hastype{x}{T_1}}{\hastype{t}{T_2}}$}
        \RightLabel{(\textsc{T-Abs})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{\labs{\hastype{x}{T_1}}{t}}{\larrow{T_1}{T_2}}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t_1}{\larrow{T_2}{T_1}}}$}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t_2}{T_2}}$}
        \RightLabel{(\textsc{T-App})}
        \BinaryInfC{$\entails{\Delta; \Gamma}{\hastype{\app{t_1}{t_2}}{T_1}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t_1}{T_1}}$}
          \AxiomC{$\entails{\upsert{\Delta}{t_1}{T_1}; \Gamma}{\hastype{t_2}{T_2}}$}
        \RightLabel{(\textsc{T-TProvide})}
        \BinaryInfC{$\entails{\Delta; \Gamma}{\hastype{\provide{t_1}{t_2}}{T_2}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma, \hastype{x}{T_1}}{\hastype{t_2}{T_2}}$}
        \RightLabel{(\textsc{T-DAbs})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{\dabs{\hastype{x}{T_1}}{t_2}}{\darrow{T_1}{T_2}}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t_1}{\darrow{T_2}{T_1}}}$}
          \AxiomC{$\lookup{\Delta}{t_2}{T_2}$}
        \RightLabel{(\textsc{T-DApp})}
        \BinaryInfC{$\entails{\Delta; \Gamma}{\hastype{t_1}{T_1}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t}{T}}$}
        \RightLabel{(\textsc{T-TAbs})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{\labs{X}{t}}{\tabs{X}{T}}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\entails{\Delta; \Gamma}{\hastype{t}{\tabs{X}{T_1}}}$}
        \RightLabel{(\textsc{T-TApp})}
        \UnaryInfC{$\entails{\Delta; \Gamma}{\hastype{\app{t}{T_2}}{\sub{T_1}{X}{T_2}}}$}
      \end{prooftree}

    \end{mdframed}
    \caption{Typing rules}
    \label{fig:typing_rules}
  \end{figure}

  \begin{figure}[h!]
    \begin{mdframed}

      \begin{prooftree}
          \AxiomC{$\evalsto{t_1}{t_1'}$}
        \RightLabel{(\textsc{E-App1})}
        \UnaryInfC{$\evalsto{\app{t_1}{t_2}}{\app{t'_1}{t_2}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\evalsto{t}{t'}$}
        \RightLabel{(\textsc{E-App2})}
        \UnaryInfC{$\evalsto{\app{v}{t}}{\app{v}{t'}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{}
        \RightLabel{(\textsc{E-AppAbs})}
        \UnaryInfC{$\evalsto{\app{\left(\labs{x}{t}\right)}{v}}{\sub{t}{x}{v}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{$\evalsto{t}{t'}$}
        \RightLabel{(\textsc{E-TApp})}
        \UnaryInfC{$\evalsto{\app{t}{T}}{\app{t'}{T}}$}
      \end{prooftree}

      \begin{prooftree}
          \AxiomC{}
        \RightLabel{(\textsc{E-TAppTAbs})}
        \UnaryInfC{$\evalsto{\app{\left(\labs{X}{t}\right)}{T}}{\sub{t}{X}{T}}$}
      \end{prooftree}

    \end{mdframed}
    \caption{Operational semantics}
    \label{fig:semantics}
  \end{figure}

\section{Conclusion}

Hello, World!

\begin{acks}

Hello, World!

\end{acks}

% Bibliography
\bibliographystyle{ACM-Reference-Format}
\bibliography{bibliography}



\end{document}
